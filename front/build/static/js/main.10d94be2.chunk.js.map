{"version":3,"sources":["components/utils/useCheckout.js","components/utils/formatPrice.js","components/checkout/CartItem.js","components/checkout/CartModal.js","components/checkout/CartSummary.js","components/checkout/CheckoutCart.js","components/layout/shopping.svg","components/layout/Navbar.js","components/products/ProductItem.js","components/utils/Spinner.js","components/products/ProductList.js","pages/Home.js","components/checkout/AddToCart.js","pages/Product.js","pages/Result.js","App.js","index.js"],"names":["useCheckout","useShoppingCart","redirectToCheckout","cartDetails","a","axios","post","then","res","data","catch","error","toast","console","log","session","sessionId","id","formatPrice","product","formatCurrencyString","value","price","currency","language","navigator","CartItem","item","setItemQuantity","className","src","process","image","alt","name","sku","quantity","type","min","onChange","e","Number","target","Modal","setAppElement","CartModal","isOpen","toggleModal","handleCheckout","cartCount","formattedTotalPrice","cartItems","Object","keys","map","key","onRequestClose","contentLabel","closeTimeoutMS","overlayClassName","onClick","CartSummary","useState","setIsOpen","CheckoutCart","disabled","Navbar","href","logo","width","ProductItem","style","minHeight","to","category","description","Spinner","ProductList","useQuery","products","isLoading","Home","AddToCart","addItem","success","Product","productId","useParams","subtitle","description_long","Result","URLSearchParams","useLocation","search","get","isError","total","amount_total","role","customer_details","email","queryClient","QueryClient","App","QueryClientProvider","client","mode","stripe","position","path","exact","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.10d94be2.chunk.js","sourcesContent":["import axios from \"axios\"\r\nimport toast from \"react-hot-toast\"\r\nimport { useShoppingCart } from \"use-shopping-cart\"\r\n\r\nconst useCheckout = () => {\r\n  const { redirectToCheckout, cartDetails } = useShoppingCart()\r\n  async function handleCheckout() {\r\n    const session = await axios\r\n      .post(\"/api/checkout-sessions\", cartDetails)\r\n      .then(res => res.data)\r\n      .catch(error => {\r\n        toast.error(\"Checkout failed\")\r\n        console.log(\"checkout error\", error)\r\n      })\r\n\r\n    if (session) {\r\n      //console.log(session)\r\n      redirectToCheckout({ sessionId: session.id })\r\n    }\r\n  }\r\n  return handleCheckout\r\n}\r\n\r\nexport default useCheckout\r\n","import { formatCurrencyString } from \"use-shopping-cart\"\r\n\r\nexport default function formatPrice(product) {\r\n  //console.log(product)\r\n  return formatCurrencyString({\r\n    value: product.price,\r\n    currency: product.currency,\r\n    language: navigator.language\r\n  })\r\n}\r\n","import { useShoppingCart } from \"use-shopping-cart\"\r\nimport formatPrice from \"../utils/formatPrice\"\r\n\r\nconst CartItem = ({ item }) => {\r\n  const { setItemQuantity } = useShoppingCart()\r\n  const handleSetItemQuantity = e => {\r\n    setItemQuantity(item.id, Number(e.target.value))\r\n  }\r\n\r\n  // NEED TO WORK ON MODAL SIZE CHANGE\r\n  return (\r\n    <>\r\n      <div className=\"d-flex align-items-center mt-3\">\r\n        <img className=\"img-tiny me-4\" src={`${process.env.PUBLIC_URL}/images/products/${item.image}`} alt={item.name} />\r\n        <div>\r\n          <span>\r\n            {item.name} ({item.sku})\r\n          </span>\r\n          <p className=\"text-start mt-1\">\r\n            <strong>\r\n              {formatPrice(item)} x {item.quantity}\r\n            </strong>\r\n          </p>\r\n        </div>\r\n        <div className=\"ms-auto text-end\">\r\n          <input className=\"text-end form-control input-quantity\" type=\"number\" value={item.quantity} min={0} onChange={handleSetItemQuantity} />\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default CartItem\r\n","import Modal from \"react-modal\"\r\nimport { useShoppingCart } from \"use-shopping-cart\"\r\nimport useCheckout from \"../utils/useCheckout\"\r\nimport CartItem from \"./CartItem\"\r\n\r\nModal.setAppElement(\"#root\")\r\n\r\nconst CartModal = ({ isOpen, toggleModal }) => {\r\n  const handleCheckout = useCheckout()\r\n  const { cartCount, formattedTotalPrice, cartDetails } = useShoppingCart()\r\n  const cartItems = Object.keys(cartDetails).map(key => cartDetails[key])\r\n\r\n  return (\r\n    <Modal isOpen={isOpen} onRequestClose={toggleModal} contentLabel=\"Cart Modal\" closeTimeoutMS={500} className=\"cart-modal\" overlayClassName=\"cart-overlay\">\r\n      <div className=\"\">\r\n        <div className=\"modal-dialog modal-lg d-flex d-inline-flex align-items center\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header d-inline-flex justify-content-between\">\r\n              <span className=\"modal-title me-3\">Cart Summary</span>\r\n              <span className=\"d-flex align-items-center\">\r\n                <strong>\r\n                  {formattedTotalPrice} ({cartCount} Items)\r\n                </strong>\r\n                <button type=\"button\" className=\"btn-close ms-1\" aria-label=\"Close\" onClick={toggleModal}></button>\r\n              </span>\r\n            </div>\r\n\r\n            <div className=\"modal-body\">\r\n              {cartItems.map(item => (\r\n                <CartItem key={item.id} item={item} />\r\n              ))}\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n              <button type=\"button\" className=\"btn btn-primary text-dark\" onClick={handleCheckout}>\r\n                <strong>Checkout</strong>\r\n              </button>\r\n              <button type=\"button\" className=\"btn btn-primary text-dark\" data-bs-dismiss=\"modal\" onClick={toggleModal}>\r\n                Keep Shopping\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default CartModal\r\n","import { useState } from \"react\"\r\nimport { useShoppingCart } from \"use-shopping-cart\"\r\nimport { FaShoppingCart } from \"react-icons/fa\"\r\nimport CartModal from \"./CartModal\"\r\n\r\nconst CartSummary = () => {\r\n  const { formattedTotalPrice, cartCount } = useShoppingCart()\r\n  const [isOpen, setIsOpen] = useState(false)\r\n  const toggleModal = () => setIsOpen(!isOpen)\r\n  return (\r\n    <>\r\n      <div onClick={toggleModal}>\r\n        <FaShoppingCart /> {formattedTotalPrice} ({cartCount})\r\n      </div>\r\n\r\n      <CartModal isOpen={isOpen} toggleModal={toggleModal} />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default CartSummary\r\n","import { useShoppingCart } from \"use-shopping-cart\"\r\nimport useCheckout from \"../utils/useCheckout\"\r\n\r\nconst CheckoutCart = () => {\r\n  const { cartCount } = useShoppingCart()\r\n  const handleCheckout = useCheckout()\r\n  return (\r\n    <button className=\"btn btn-primary btn-sm ms-3\" onClick={handleCheckout} disabled={!cartCount}>\r\n      Checkout\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default CheckoutCart\r\n","export default __webpack_public_path__ + \"static/media/shopping.0649f561.svg\";","import { Collapse } from \"bootstrap\"\r\nimport CartSummary from \"../checkout/CartSummary\"\r\nimport CheckoutCart from \"../checkout/CheckoutCart\"\r\nimport logo from \"./shopping.svg\"\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n      <div className=\"container\">\r\n        <a href=\"/\" className=\"navbar-brand d-flex align-items-center\">\r\n          <div className=\"d-flex justify-content-between\">\r\n            <img src={logo} width=\"24px\" />\r\n            <div className=\"m-2\">\r\n              <strong>Shop Now!</strong>\r\n            </div>\r\n          </div>\r\n        </a>\r\n        <button className=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarMain\">\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        <div className=\"collapse navbar-collapse\" id=\"navbarMain\">\r\n          <div className=\"navbar-nav d-flex justify-content-between w-100\">\r\n            <ul className=\"navbar-nav\">\r\n              <li className=\"nav-item\">\r\n                <a className=\"nav-link active me-2\" aria-current=\"page\" href=\"#\">\r\n                  Special\r\n                </a>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <a className=\"nav-link  me-2\" href=\"#\">\r\n                  FAQ\r\n                </a>\r\n              </li>\r\n              <li>\r\n                <a className=\"nav-link  me-2\" href=\"#\">\r\n                  About\r\n                </a>\r\n              </li>\r\n            </ul>\r\n            <div className=\"d-flex align-items-center\">\r\n              <CartSummary />\r\n              <CheckoutCart />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* <form className=\"d-flex\">\r\n          <input className=\"form-control me-2\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\" />\r\n          <button className=\"btn btn-outline-success\" type=\"submit\">\r\n            Search\r\n          </button>\r\n        </form> */}\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Navbar\r\n","import { Link } from \"react-router-dom\"\r\nimport formatPrice from \"../utils/formatPrice\"\r\n\r\nconst ProductItem = ({ product }) => {\r\n  const price = formatPrice(product)\r\n  return (\r\n    <div className=\"col mb-5\">\r\n      <div className=\"card h-100\" style={{ minHeight: \"500px\" }}>\r\n        <Link to={`/products/${product.id}`}>\r\n          <img className=\"img-fluid\" src={`${process.env.PUBLIC_URL}/images/products/${product.image}`} alt={product.name} />\r\n        </Link>\r\n        <div className=\"card-body\">\r\n          <div className=\"card-title\">\r\n            <h5>\r\n              {product.category} &gt; {product.name}\r\n            </h5>\r\n          </div>\r\n          <div className=\"card-text\">\r\n            <p>{product.description}</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"card-footer\">\r\n          <div className=\"d-flex justify-content-between\">\r\n            <div>\r\n              <strong>{price}</strong>\r\n            </div>\r\n            <div>\r\n              <button className=\"btn btn-md\">\r\n                <strong>Add to cart</strong>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProductItem\r\n","export default function Spinner() {\r\n  return <div className=\"spinner\"></div>\r\n}\r\n","// import { useEffect, useState } from \"react\"\r\nimport { useQuery } from \"react-query\"\r\nimport axios from \"axios\"\r\nimport ProductItem from \"./ProductItem\"\r\nimport Spinner from \"../utils/Spinner\"\r\n\r\nconst ProductList = () => {\r\n  // const [products, setProducts] = useState([])\r\n  // useEffect(() => {\r\n  //   axios\r\n  //     .get(\"/api/products\")\r\n  //     .then(res => res.data.products)\r\n  //     .then(products => setProducts(products))\r\n  // }, [])\r\n\r\n  const { data: products, isLoading } = useQuery(\"Products\", () => axios(\"/api/products\").then(res => res.data.products))\r\n\r\n  if (isLoading) return <Spinner />\r\n\r\n  return (\r\n    <div className=\"row row-cols-1 row-cols-md-2 row-cols-lg-3\">\r\n      {products.map(product => (\r\n        <ProductItem key={product.id} product={product} />\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProductList\r\n","import React from \"react\"\r\nimport ProductList from \"../components/products/ProductList\"\r\n\r\nconst Home = () => {\r\n  return (\r\n    <div className=\"row justify-content-center mt-4\">\r\n      <div className=\"col-md-10 p-2\">\r\n        <p className=\"text-center mb-2 display-6\">\r\n          <strong>Shop Now</strong>, most <em>reliable</em> <mark>React</mark> shopping cart\r\n        </p>\r\n        <h5 className=\"text-center mb-5\">Modern and upscale shopping destination</h5>\r\n        <ProductList />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home\r\n","import { useShoppingCart } from \"use-shopping-cart\"\r\nimport toast from \"react-hot-toast\"\r\n\r\nconst AddToCart = ({ product }) => {\r\n  const { addItem } = useShoppingCart()\r\n\r\n  const handleAddItem = () => {\r\n    addItem(product)\r\n    toast.success(`${product.name} is added to your cart.`)\r\n  }\r\n\r\n  return (\r\n    <button type=\"button\" className=\"btn btn-primary btn-lg btn-block btn-hover me-2\" onClick={handleAddItem}>\r\n      Add to Cart\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default AddToCart\r\n","import axios from \"axios\"\r\nimport { useQuery } from \"react-query\"\r\nimport { useParams } from \"react-router-dom\"\r\nimport { FaTwitter, FaYoutube, FaFacebookSquare, FaMailBulk } from \"react-icons/fa\"\r\nimport formatPrice from \"../components/utils/formatPrice\"\r\nimport Spinner from \"../components/utils/Spinner\"\r\nimport AddToCart from \"../components/checkout/AddToCart\"\r\nimport RemoveFromCart from \"../components/checkout/RemoveFromCart\"\r\n\r\nconst Product = () => {\r\n  const { productId } = useParams()\r\n\r\n  const { data: product, isLoading } = useQuery(\"Product\", () => axios(`/api/products/${productId}`).then(res => res.data.product))\r\n\r\n  if (isLoading) return <Spinner />\r\n\r\n  const price = formatPrice(product)\r\n  return (\r\n    <div className=\"row justify-content-center product-item\">\r\n      <div className=\"col-md-10 p-4 top\">\r\n        <p className=\"text-center mb-2 display-6\">\r\n          <strong>{product.name}</strong>\r\n        </p>\r\n        <h5 className=\"text-center mb-2\">\r\n          <em>{product.subtitle}</em>\r\n        </h5>\r\n        <p className=\"text-muted text-center mb-0\">Category: {product.category}</p>\r\n      </div>\r\n\r\n      <div className=\"col-md-4 p-3\">\r\n        <img className=\"img-fluid rounded shadow-1\" src={`${process.env.PUBLIC_URL}/images/products/${product.image}`} alt={product.name} />\r\n      </div>\r\n      <div className=\"col-md-4 p-3 right\">\r\n        <div className=\"d-flex flex-column\">\r\n          <div className=\"product-info\">\r\n            <p className=\"text-muted\">\r\n              <small>Item #: {product.id}</small>\r\n            </p>\r\n            <p>{price}</p>\r\n            <div className=\"mb-4\">\r\n              <AddToCart product={product} />\r\n              {/* <RemoveFromCart product={product} /> */}\r\n            </div>\r\n            <p>{product.description}</p>\r\n            <div>\r\n              <p>\r\n                <small>{product.description_long}</small>\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <div className=\"social-icons text-end\">\r\n            <FaTwitter /> <FaYoutube /> <FaFacebookSquare /> <FaMailBulk />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Product\r\n","import axios from \"axios\"\r\nimport { useQuery } from \"react-query\"\r\nimport { useLocation } from \"react-router-dom\"\r\nimport { formatCurrencyString } from \"use-shopping-cart\"\r\nimport Spinner from \"../components/utils/Spinner\"\r\n\r\nfunction useQueryString() {\r\n  return new URLSearchParams(useLocation().search)\r\n}\r\n\r\nconst Result = () => {\r\n  const queryString = useQueryString()\r\n  const sessionId = queryString.get(\"session_id\")\r\n\r\n  const { data, isLoading, isError } = useQuery(\"Result\", () => (sessionId ? axios(`/api/checkout-sessions/${sessionId}`).then(res => res.data) : null))\r\n\r\n  if (isLoading) return <Spinner />\r\n  if (!data && !isLoading) return <div className=\"display-warning\">No payment found</div>\r\n  if (isError) return <div className=\"display-danger\">Error in result page</div>\r\n\r\n  const total = formatCurrencyString({\r\n    value: data.amount_total,\r\n    currency: data.currency,\r\n    language: navigator.language\r\n  })\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <main role=\"main\" className=\"inner cover text-center\">\r\n        {/* Add image here */}\r\n        <h1 className=\"cover-heading mt-10\">Payment Accepted.</h1>\r\n        <p className=\"lead\">Below is your payment summary.</p>\r\n        <p className=\"lead\">\r\n          <h4 className=\"\">Order Total: {total} </h4>\r\n          <h4 className=\"\">Email:{data.customer_details.email} </h4>\r\n        </p>\r\n      </main>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Result\r\n","import { BrowserRouter, Route, Switch } from \"react-router-dom\"\r\nimport { QueryClientProvider, QueryClient } from \"react-query\"\r\nimport { CartProvider } from \"use-shopping-cart\"\r\nimport { Toaster } from \"react-hot-toast\"\r\n// import { loadStripe } from \"@stripe/stripe-js\"\r\n\r\nimport Navbar from \"./components/layout/Navbar\"\r\nimport Home from \"./pages/Home\"\r\nimport Product from \"./pages/Product\"\r\nimport Result from \"./pages/Result\"\r\n\r\nconst queryClient = new QueryClient()\r\nconst STRIPE_API_P = process.env.REACT_APP_STRIPE_API_P\r\n//const stripePromise = loadStripe(STRIPE_API_P) // No need to use loadStripe\r\n\r\nfunction App() {\r\n  return (\r\n    <QueryClientProvider client={queryClient}>\r\n      <CartProvider mode=\"checkout-session\" stripe={STRIPE_API_P} currency=\"USD\">\r\n        <BrowserRouter>\r\n          <Toaster position=\"bottom-center\" />\r\n          <Navbar />\r\n          <Switch>\r\n            <Route path=\"/\" exact component={Home} />\r\n            <Route path=\"/products/:productId\" component={Product} />\r\n            <Route path=\"/result\" component={Result} />\r\n          </Switch>\r\n        </BrowserRouter>\r\n      </CartProvider>\r\n    </QueryClientProvider>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./index.scss\"\nimport App from \"./App\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n)\n"],"sourceRoot":""}